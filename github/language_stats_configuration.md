# How to configure Github to correct count the language stats in your repository

Github has a fairly useful feature where it shows you the language breakdown of a repository. However, there are times when you might want to customise it, e.g. certain folders might contain vendor/autogenerated code not recognised by the github language stat collector.

To customise your stats, make a file called `.gitattributes` in the root of your repo if one doesn't exist yet. Then in the file, specify the paths to all the folders/files you want the language stats to ignore, e.g. the following config ignores all the archived sql, sql scripts in a certain folder and any ipynb files

```yaml
db/archive/rollback_scripts/** -linguist-detectable
db/build/rollback_scripts/**/*.sql -linguist-detectable
*.ipynb -linguist-detectable
```

In the project, this changes the language breakdown from
```
37.76%  PLpgSQL
24.04%  Jupyter Notebook
21.83%  JavaScript
7.30%   Python
```

to the much more realistic

```
48.60%  JavaScript
16.93%  PLpgSQL
16.24%  Python
```

(we don't particulary care about jupyter notebook files and the files in archive folder, are well, archives)

To test locally, install github-linguist as per https://github.com/github/linguist#installation, then run `github-linguist --breakdown` from the root of the repo. The breakdown will show you the percentages of lanagues and twhat files contribute to it, so you can see if it worked the way you intended.

Remember:
- you have to commit the `.gitattributes` before running `github-linguist` locally to see the updated stats.
- to set an linguist option to false, you can do `-[some_attribute]` (as opposed to `[some_attribute]` which applies it) Also, `[some_attribute]=false` should also work
- the filepaths don't work the same way as gitignores. For all files with an extension, e.g. ignoring all ipynb files from the stats, you can use `*.ipynb`, but if you want to ignore a folder and all files inside recursively, you have to use `**`, e.g. `path/to/folder/to/ignore/**`
- [linguist runs as a background task on github](https://github.com/github/linguist#how-linguist-works-on-githubcom) so you might need to wait before seeing your changes

For more customisation options, see [github linguist repo](https://github.com/github/linguist#overrides)
